<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>人脸检测业务理论 | ieblYang</title>
        <meta name="Description" content="基于TensorFlow的人脸识别智能小程序的设计与实现 人脸检测业务理论"><meta property="og:title" content="人脸检测业务理论" />
<meta property="og:description" content="基于TensorFlow的人脸识别智能小程序的设计与实现 人脸检测业务理论" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ieblyang.github.io/en/face06/" />
<meta property="article:published_time" content="2020-03-12T17:33:40+08:00" />
<meta property="article:modified_time" content="2020-03-12T17:33:40+08:00" /><meta property="og:site_name" content="ieblYang" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="人脸检测业务理论"/>
<meta name="twitter:description" content="基于TensorFlow的人脸识别智能小程序的设计与实现 人脸检测业务理论"/>
<meta name="theme-color" content="#ffffff">
<meta name="msapplication-TileColor" content="#da532c">
<link rel="canonical" href="https://ieblyang.github.io/en/face06/" />
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="prev" href="https://ieblyang.github.io/en/face05/" /><link rel="next" href="https://ieblyang.github.io/en/flask01/" /><link rel="stylesheet" href="/lib/fontawesome-free/all.min.9679f10076c3db0a03c8c8a5128dba53.css" integrity="md5-lnnxAHbD2woDyMilEo26Uw=="><link rel="stylesheet" href="/lib/animate/animate.min.bc1a6a99c43f5ccc97d2d350bde13f74.css" integrity="md5-vBpqmcQ/XMyX0tNQveE/dA=="><link rel="stylesheet" href="/css/style.min.ae21e349d7dcddfd942a94491d8158d5.css" integrity="md5-riHjSdfc3f2UKpRJHYFY1Q=="><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "人脸检测业务理论",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/ieblyang.github.io\/en\/face06\/"
        },"image": {
                "@type": "ImageObject",
                "url": "https:\/\/ieblyang.github.io\/cover.png",
                "width":  800 ,
                "height":  600 
            },"genre": "posts","keywords": "人脸识别, TensorFlow, 人脸检测","wordcount":  596 ,
        "url": "https:\/\/ieblyang.github.io\/en\/face06\/","datePublished": "2020-03-12","dateModified": "2020-03-12","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
                "@type": "Organization",
                "name": "ieblYang",
                "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/ieblyang.github.io\/logo.png",
                "width":  127 ,
                "height":  40 
                }
            },"author": {
                "@type": "Person",
                "name": "ieblYang"
            },"description": "基于TensorFlow的人脸识别智能小程序的设计与实现 人脸检测业务理论"
    }
    </script></head>
    <body><script>
            if (!window.localStorage || !window.localStorage.getItem('theme')) {window.isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;} else {
                window.isDark = (window.localStorage && window.localStorage.getItem('theme')) === 'dark';
            }
            window.isDark && document.body.classList.add('dark-theme');
        </script><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/en/">ieblYang</a>
        </div>
        <div class="menu"><a class="menu-item" href="/en/posts/" rel="noopener noreffer">Posts</a><a class="menu-item" href="/en/tags/" rel="noopener noreffer">Tags</a><a class="menu-item" href="/en/categories/" rel="noopener noreffer">Categories</a><a class="menu-item" href="/en/categories/documentation/" rel="noopener noreffer">Documentation</a><a class="menu-item" href="/en/about/" rel="noopener noreffer">About</a><a class="menu-item" href="https://github.com/ieblYang" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><span class="menu-item">|</span>
            <a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/en/face06/" selected>English</option><option value="/face06/">简体中文</option></select>
                </a></div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-wrapper">
        <div class="header-container">
            <div class="header-title">
                <a href="/en/">ieblYang</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/en/posts/" title="" rel="noopener noreffer">Posts</a><a class="menu-item" href="/en/tags/" title="" rel="noopener noreffer">Tags</a><a class="menu-item" href="/en/categories/" title="" rel="noopener noreffer">Categories</a><a class="menu-item" href="/en/categories/documentation/" title="" rel="noopener noreffer">Documentation</a><a class="menu-item" href="/en/about/" title="" rel="noopener noreffer">About</a><a class="menu-item" href="https://github.com/ieblYang" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/en/face06/" selected>English</option><option value="/face06/">简体中文</option></select>
                </a></div>
    </div>
</header>

<script>
    window.desktopHeaderMode = "fixed";
    window.mobileHeaderMode = "auto";
</script>
<main class="main">
                <div class="container"><article class="page single"><h1 class="single-title animated flipInX">人脸检测业务理论</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://ieblyang.github.io/" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>ieblYang</a>
</span>&nbsp;
                    <span class="post-category">included in<a href="/en/categories/face-recognition">
                                <i class="far fa-folder fa-fw"></i>Face recognition
                            </a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i><time datetime=2020-03-12>2020-03-12</time>&nbsp;
                <i class="fas fa-pencil-alt fa-fw"></i>about 596 words&nbsp;
                <i class="far fa-clock fa-fw"></i>3 min&nbsp;<span id="/en/face06/" class="leancloud_visitors" data-flag-title="人脸检测业务理论">
                        <i class="far fa-eye fa-fw"></i><span class=leancloud-visitors-count></span>&nbsp;views
                    </span>&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/featured-image.png, /images/face/featured-image.png 1.5x, /images/face/featured-image.png 2x"
        data-src="/images/face/featured-image.png"
        alt="基于TensorFlow的人脸识别智能小程序的设计与实现 人脸检测业务理论"
        title="基于TensorFlow的人脸识别智能小程序的设计与实现 人脸检测业务理论" /></div><div class="toc" id="toc-auto">
                <h2 class="toc-title">Contents</h2>
                <div class="toc-content" id="toc-content-auto"></div>
            </div>
            <div class="toc" id="toc-static">
                <details>
                    <summary>
                        <div class="toc-title">
                            <span>Contents</span>
                            <span><i class="details icon fas fa-angle-down"></i></span>
                        </div>
                    </summary>
                    <div class="toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-人脸业务场景综述">1 人脸业务场景综述</a>
      <ul>
        <li><a href="#11-生物信息识别">1.1 生物信息识别</a></li>
        <li><a href="#12-人脸业务场景">1.2 人脸业务场景</a>
          <ul>
            <li><a href="#121-人脸检测face-detection">1.2.1 人脸检测（Face Detection）</a></li>
            <li><a href="#122-人脸关键点人脸对齐-face-alignment">1.2.2 人脸关键点（人脸对齐 Face Alignment）</a></li>
            <li><a href="#123-人脸属性face-attribute">1.2.3 人脸属性（Face Attribute）</a></li>
            <li><a href="#124-人脸对比face-compare">1.2.4 人脸对比（Face Compare）</a></li>
            <li><a href="#125-其他人脸业务场景">1.2.5 其他人脸业务场景</a></li>
          </ul>
        </li>
        <li><a href="#13-人脸业务流程">1.3 人脸业务流程</a></li>
        <li><a href="#14-人脸采集相关问题">1.4 人脸采集相关问题</a></li>
        <li><a href="#15-人脸资源相关数据集">1.5 人脸资源——相关数据集</a></li>
        <li><a href="#16-人脸资源相关厂商">1.6 人脸资源——相关厂商</a></li>
      </ul>
    </li>
    <li><a href="#2-人脸检测问题">2 人脸检测问题</a></li>
    <li><a href="#3-人脸标注方法">3 人脸标注方法</a>
      <ul>
        <li><a href="#31-矩形框">3.1 矩形框</a></li>
        <li><a href="#32-椭圆形标注">3.2 椭圆形标注</a></li>
      </ul>
    </li>
    <li><a href="#4-人脸检测性能评价指标">4 人脸检测性能评价指标</a>
      <ul>
        <li><a href="#41-检测率误报率">4.1 检测率、误报率</a></li>
        <li><a href="#42-速度fps">4.2 速度：FPS</a></li>
        <li><a href="#43-iouintersection-over-union">4.3 IOU(Intersection-over-Union)</a></li>
        <li><a href="#44-precision-recallroc">4.4 Precision-Recall/ROC</a>
          <ul>
            <li><a href="#441-pr曲线">4.4.1 PR曲线</a></li>
            <li><a href="#442-roc曲线">4.4.2 ROC曲线</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#5-人脸检测方法介绍">5 人脸检测方法介绍</a>
      <ul>
        <li><a href="#51-传统的人脸检测方法">5.1 传统的人脸检测方法</a></li>
        <li><a href="#52-从粗粒度到细粒度的级联模型deep-learning">5.2 从粗粒度到细粒度的级联模型（Deep Learning）</a></li>
        <li><a href="#53-通用目标检测算法基于人脸问题的优化">5.3 通用目标检测算法+基于人脸问题的优化</a></li>
      </ul>
    </li>
    <li><a href="#6-人脸检测问题挑战及解决思路">6 人脸检测问题挑战及解决思路</a></li>
    <li><a href="#7-小人脸检测问题策略">7 小人脸检测问题/策略</a>
      <ul>
        <li><a href="#71-小人脸检测问题">7.1 小人脸检测问题</a></li>
        <li><a href="#72-小人脸检测问题策略">7.2 小人脸检测问题策略</a></li>
      </ul>
    </li>
    <li><a href="#8-ssd模型">8 SSD模型</a>
      <ul>
        <li><a href="#81-single-shot-multibox-detectorone-stage方法">8.1 Single Shot MultiBox Detector(one-stage方法)</a></li>
        <li><a href="#82-ssd模型介绍">8.2 SSD模型介绍</a>
          <ul>
            <li><a href="#821-anchor">8.2.1 Anchor</a></li>
            <li><a href="#822-default-box">8.2.2 Default box</a></li>
            <li><a href="#823-prior-box">8.2.3 Prior box</a></li>
            <li><a href="#824-损失函数">8.2.4 损失函数</a></li>
            <li><a href="#825-样本构造">8.2.5 样本构造</a></li>
            <li><a href="#826-数据增强">8.2.6 数据增强</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#83-tensorflowssd环境搭建">8.3 TensorFlow+SSD环境搭建</a></li>
    <li><a href="#9-人脸检测数据清洗与数据打包">9 人脸检测数据清洗与数据打包</a>
      <ul>
        <li><a href="#91-wider-face-数据集">9.1 WIDER FACE 数据集</a></li>
        <li><a href="#92-passcal-voc">9.2 Passcal VOC</a></li>
        <li><a href="#93-wider-face-标注文件">9.3 WIDER FACE 标注文件</a></li>
        <li><a href="#94-实例代码">9.4 实例代码</a></li>
      </ul>
    </li>
    <li><a href="#10-参考资料">10 参考资料</a></li>
  </ul>
</nav></div>
                </details>
            </div><div class="content" id="content"><p>基于TensorFlow的人脸识别智能小程序的设计与实现 人脸检测业务理论</p>
<h2 id="1-人脸业务场景综述">1 人脸业务场景综述</h2>
<h3 id="11-生物信息识别">1.1 生物信息识别</h3>
<ul>
<li>人脸识别是生物信息识别领域重要研究方向之一</li>
<li>生物特征有手形、指纹、脸形、虹膜、视网膜、脉搏、耳廓等</li>
</ul>
<h3 id="12-人脸业务场景">1.2 人脸业务场景</h3>
<h4 id="121-人脸检测face-detection">1.2.1 人脸检测（Face Detection）</h4>
<ul>
<li>
<p>检测出图像中人脸所在位置的一项技术</p>
</li>
<li>
<p>基础提供支持</p>
<ul>
<li>姿态和表情的变化</li>
<li>不同人的外观差异</li>
<li>光照、遮挡、视角</li>
<li>不同大小、位置</li>
</ul>
</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/1.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h4 id="122-人脸关键点人脸对齐-face-alignment">1.2.2 人脸关键点（人脸对齐 Face Alignment）</h4>
<ul>
<li>
<p>定位出人脸上五官等关键点坐标的一项技术</p>
</li>
<li>
<p>人脸美颜、活体检测等基础</p>
<ul>
<li>人脸外观差异</li>
<li>角度、姿态、遮挡等问题</li>
<li>实时性</li>
<li>稠密关键点（&gt;68点）</li>
</ul>
</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/2.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h4 id="123-人脸属性face-attribute">1.2.3 人脸属性（Face Attribute）</h4>
<ul>
<li>
<p>识别出人脸的性别、年龄、姿态、表情等属性值的一项技术</p>
</li>
<li>
<p>人脸分析基础</p>
<ul>
<li>人脸外观差异</li>
<li>角度、姿态、遮挡等问题</li>
<li>等等</li>
</ul>
</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/3.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h4 id="124-人脸对比face-compare">1.2.4 人脸对比（Face Compare）</h4>
<p>计算两个人脸之间的相似度</p>
<ul>
<li>人脸验证（Face Verification)</li>
<li>人脸识别（Face Compere）</li>
<li>人脸检索（Face Retrieval）</li>
<li>人脸聚类（Face Cluster）</li>
<li>等等</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/4.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h4 id="125-其他人脸业务场景">1.2.5 其他人脸业务场景</h4>
<ul>
<li>人脸活体检测</li>
<li>情绪识别</li>
<li>面相分析</li>
<li>颜值评分</li>
<li>明星脸匹配</li>
<li>人脸生成</li>
<li>人脸美妆、美颜</li>
<li>人脸风格化</li>
<li>痘痘、皱纹检测</li>
<li>人脸换脸</li>
</ul>
<h3 id="13-人脸业务流程">1.3 人脸业务流程</h3>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/5.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h3 id="14-人脸采集相关问题">1.4 人脸采集相关问题</h3>
<ul>
<li>不同性别分布，男性、女性。</li>
<li>不同年龄分布，儿童、少年、中年、老年。</li>
<li>不同人种分布，黑人、白人、黄种人。.</li>
<li>不同脸型分布，人脸、猪脸、猴脸。</li>
<li>人脸没有正对摄像头，角度有倾斜，左右倾斜、. 上下倾斜。</li>
<li>翻拍的人脸照片，清晰照片、不清晰照片。</li>
<li>摄像头内包含单张人脸、多张人脸。</li>
<li>测试所处的环境:光线正常、过亮、过暗、暖光、冷光、白平衡等</li>
<li>不同场景:室内、室外、车站、超市等</li>
</ul>
<h3 id="15-人脸资源相关数据集">1.5 人脸资源——相关数据集</h3>
<ul>
<li>PubFig: Public Figures Face Database(哥伦比亚大学公众人物脸部数据库)</li>
<li><strong>Large-scale CelebFaces Attributes (CelebA) Dataset</strong></li>
<li>Colorferet</li>
<li>Multi-Task Facial Landmark (MTFL) dataset</li>
<li>BiolD Face Database - FaceDB</li>
<li><strong>Labeled Faces in the Wild Home (LFW)</strong></li>
<li>Person identification in TV series</li>
<li>CMUVASC &amp; PIE Face dataset</li>
<li>YouTube Faces</li>
<li><strong>Wider-face</strong></li>
<li>MegaFace</li>
<li>CASIA-FaceV5</li>
<li>The CNBC Face Database</li>
<li>CASIA-3D FaceV1</li>
<li>IMDB-WIKI</li>
<li>FDDB</li>
<li>Caltech人脸数据库</li>
<li>The Japanese Female Facial Expression (JAFFE) Database</li>
<li><a href="https://blog.csdn.net/perception/article/details/80656186%3E">https://blog.csdn.net/perception/article/details/80656186&gt;</a></li>
</ul>
<h3 id="16-人脸资源相关厂商">1.6 人脸资源——相关厂商</h3>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/6.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h2 id="2-人脸检测问题">2 人脸检测问题</h2>
<ul>
<li>
<p>什么是人脸检测问题？</p>
<ul>
<li>从图像中找到人脸的位置</li>
</ul>
</li>
<li>
<p>人脸检测的用处？</p>
<ul>
<li>更准确的人脸业务
<ul>
<li>人脸识别</li>
<li>人脸对比</li>
<li>人脸关键点</li>
<li>人脸属性</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/7.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h2 id="3-人脸标注方法">3 人脸标注方法</h2>
<h3 id="31-矩形框">3.1 矩形框</h3>
<p>传统方法都采用矩形标记法，用一个矩形框将画面中的人脸区域包含在内。这种标记方法存在的问题在于很难给出一个恰好包含面部的矩形框，并且获得各种不同算法的一致的认可。因此采用矩形框的方法无法很好的对不同算法的结果做出准确且有效的评价。</p>
<ul>
<li>常用四个值来标定(x,y,w,h)</li>
<li>(x,y)表示矩形左上角的坐标，w 矩形的宽，h 矩形的高</li>
<li>优点：网络学习起来更容易，目前很多人脸检测算法框架也采用矩形框标注的方法。</li>
<li>缺点：标注的区域中一部分并不属于人脸。</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/8.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h3 id="32-椭圆形标注">3.2 椭圆形标注</h3>
<p>由于人脸天然呈现为椭圆形，所以用椭圆形来表征是一种较为准确的方法，如下图所示,这种方法可以对侧脸与转动后的面部进行描述，常用5个值来标定。</p>
<ul>
<li>ra：椭圆长轴半径</li>
<li>rb：椭圆短轴半径</li>
<li>theta：椭圆长轴偏转角度</li>
<li>cx：椭圆圆心x坐标</li>
<li>cy：椭圆圆心y坐标</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/9.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h2 id="4-人脸检测性能评价指标">4 人脸检测性能评价指标</h2>
<h3 id="41-检测率误报率">4.1 检测率、误报率</h3>
<ul>
<li>检测率 = 正确检出人脸个数/真实人脸个数</li>
<li>误报率 = 检出目标中错误的人脸数量/总共检测出的目标数量</li>
<li>每一个<strong><ruby>标记<rt>真值:GT</rt></ruby></strong>只允许有一个检测与之相对应</li>
<li>重复检测会被视为错误检测</li>
</ul>
<h3 id="42-速度fps">4.2 速度：FPS</h3>
<h3 id="43-iouintersection-over-union">4.3 IOU(Intersection-over-Union)</h3>
<ul>
<li>$IOU = \dfrac{area(C) \bigcap area(G)}{area(C) \bigcup area(G)}$</li>
<li>产生的候选框（candidate bound）与原标记框（ground truth bound）的交叠率,即它们的交集与并集的比值。</li>
<li>最理想情况是完全重叠，即比值为1。</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/10.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h3 id="44-precision-recallroc">4.4 Precision-Recall/ROC</h3>
<ul>
<li>accuracy $ =\frac{TP}{P+N}$</li>
</ul>
<table>
<thead>
<tr>
<th align="center">符号</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">p</td>
<td align="center">Positive 正样本数量</td>
</tr>
<tr>
<td align="center">n</td>
<td align="center">Negative 负样本数量</td>
</tr>
<tr>
<td align="center">Y</td>
<td align="center">预测为正样本数量</td>
</tr>
<tr>
<td align="center">N</td>
<td align="center">预测为负样本数量</td>
</tr>
</tbody>
</table>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/11.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h4 id="441-pr曲线">4.4.1 PR曲线</h4>
<ul>
<li>precisidon$ =\frac{TP}{TP+FP}$</li>
<li>recall$ = \frac{TP}{P}$</li>
</ul>
<table>
<thead>
<tr>
<th align="center">符号</th>
<th align="center">以人脸识别（PR）为例</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">p</td>
<td align="center">真实人脸区域</td>
</tr>
<tr>
<td align="center">n</td>
<td align="center">真实背景区域</td>
</tr>
<tr>
<td align="center">Y</td>
<td align="center">检出的人脸框</td>
</tr>
<tr>
<td align="center">N</td>
<td align="center">没有检出区域</td>
</tr>
</tbody>
</table>
<ul>
<li>11-point interpolated average precision</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/12.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h4 id="442-roc曲线">4.4.2 ROC曲线</h4>
<ul>
<li>前提：当前图片智能有一个人脸</li>
<li>通常用于FDDB数据集</li>
<li>fp rate$ =\frac{FP}{N}$</li>
<li>tp rate $= \frac{TP}{P}$</li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">以人脸识别（ROC）为例</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">p</td>
<td align="center">图片中存在人脸的图片</td>
</tr>
<tr>
<td align="center">n</td>
<td align="center">图片中不存在人脸的图片</td>
</tr>
<tr>
<td align="center">Y</td>
<td align="center">在当前图片中检测出人脸</td>
</tr>
<tr>
<td align="center">N</td>
<td align="center">在当前图片中没有检测出人脸</td>
</tr>
</tbody>
</table>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/11.1.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h2 id="5-人脸检测方法介绍">5 人脸检测方法介绍</h2>
<h3 id="51-传统的人脸检测方法">5.1 传统的人脸检测方法</h3>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/13.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<div class="admonition note">
            <p class="admonition-title"><i class="icon fas fa-pencil-alt"></i>笔记</p>
            <div class="admonition-content"><ul>
<li>
<p>VJ(Viola-Jones)框架算法要点:</p>
<ul>
<li>使用类Haar输入特征：对矩形图像区域的和或差进行阈值化。</li>
<li>积分图像技术加速了矩形图像区域的45度旋转的值的计算，这个图像结构被用来加速类Haar输入特征的计算。</li>
<li>使用Adaboost来创建二分类问题（人脸与非人脸）的分类器节点（高通过率，低拒绝率）。</li>
<li>把分类器节点组成筛选式级联（在筛选式级联里，一个节点是Adaboost类型的一组分类器）。</li>
</ul>
</li>
<li>
<p>DPM</p>
<ul>
<li>DPM算法由Felzenszwalb提出，是一种基于部件的检测方法，
对目标的形变具有很强的鲁棒性。目前DPM已成为众多分类、分割、姿态估计等
算法的核心部分，Felzenszwalb本人也因此被VOC授予&quot;终身成就奖&rdquo;。</li>
<li>DPM算法采用了改进后的HOG特征，SVM分类器和滑动窗口（Sliding Windows）检测思想，
针对目标的多视角问题，采用了多组件（Component）的策略，针对目标本身的形变问题，
采用了基于图结构（Pictorial Structure）的部件模型策略。
此外，将样本的所属的模型类别，部件模型的位置等作为潜变量（Latent Variable），
采用多示例学习（Multiple-instance Learning）来自动确定。</li>
</ul>
</li>
<li>
<p>JDA（Joint Cascade Face Detection and Alignment）</p>
<ul>
<li>目前比较先进的人脸检测算法.它结合了 cascade 和 alignment ，一方面做alignment对进一步的人脸识别意义重大，
另一方面作者在 section 2 讲到了landmark附近的特征可促进分类器分辨出更准确的结果，
最后，将这两者放在一起做不仅相互促进而且还相互节省了时间。</li>
</ul>
</li>
</ul>
</div>
        </div>
<h3 id="52-从粗粒度到细粒度的级联模型deep-learning">5.2 从粗粒度到细粒度的级联模型（Deep Learning）</h3>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/14.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h3 id="53-通用目标检测算法基于人脸问题的优化">5.3 通用目标检测算法+基于人脸问题的优化</h3>
<ul>
<li>通用目标检测算法</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/15.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<ul>
<li>人脸检测算法</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/16.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<blockquote>
<p>人脸检测相关文献：
<a href="http://www.imooc.com/article/284277">http://www.imooc.com/article/284277</a></p>
</blockquote>
<h2 id="6-人脸检测问题挑战及解决思路">6 人脸检测问题挑战及解决思路</h2>
<ul>
<li>人脸可能出现在图像中的任何一个位置</li>
<li>人脸可能有不同的大小</li>
<li>人脸在图像中可能有不同的视角和姿态</li>
<li>人脸可能部分被遮挡</li>
</ul>
<h2 id="7-小人脸检测问题策略">7 小人脸检测问题/策略</h2>
<h3 id="71-小人脸检测问题">7.1 小人脸检测问题</h3>
<ul>
<li>下采样倍率很大时，人脸区域基本消失</li>
<li>相比于感受野和anchor的尺寸来说，人脸的尺寸太小</li>
<li>Anchor匹配策略（IOU小且变化敏感）</li>
<li>正负样本比例失衡</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/17.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h3 id="72-小人脸检测问题策略">7.2 小人脸检测问题策略</h3>
<ul>
<li>尺度不敏感/多尺度的策略</li>
<li>调整优化Anchor策略</li>
<li>在线的难例挖掘</li>
<li>IOU计算方式</li>
<li>数据增强</li>
</ul>
<h2 id="8-ssd模型">8 SSD模型</h2>
<h3 id="81-single-shot-multibox-detectorone-stage方法">8.1 Single Shot MultiBox Detector(one-stage方法)</h3>
<ul>
<li>Wei Liu在ECCV 2016提出</li>
<li>端到端的训练</li>
<li>直接回归目标类别和位置</li>
<li>不同尺度的特征图上进行预测</li>
</ul>
<h3 id="82-ssd模型介绍">8.2 SSD模型介绍</h3>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/18.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<ul>
<li>主干网络：VGGNet</li>
<li>多尺度Feature Map预测</li>
<li>Default bounding boxes的类别分数、偏移量</li>
</ul>
<h4 id="821-anchor">8.2.1 Anchor</h4>
<p>Anchor指特征图上的每一个点</p>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/19.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h4 id="822-default-box">8.2.2 Default box</h4>
<ul>
<li>
<p><code>m*n</code>个单元，每个单元称作一个Anchor</p>
</li>
<li>
<p>每个单元上生成固定尺度和长宽比的box</p>
<ul>
<li>假设一个特征图有mxn个单元，每个单元对应k个default box,每个default box预测c个类别概率分布和4个坐标</li>
<li><code>(c+4)*k*m*n</code>个输出值</li>
</ul>
</li>
</ul>
<h4 id="823-prior-box">8.2.3 Prior box</h4>
<ul>
<li>实际选择的default box</li>
<li><code>38*38*4 + 19*19*6 + 10*10*6 + 5*5*6 + 3*3*4+1*1*4= 8732</code>个prior box</li>
</ul>
<h4 id="824-损失函数">8.2.4 损失函数</h4>
<p>$$L(x,c,l,g)=\dfrac{1}{N} (L_{conf}(x,c)+\alpha L_{loc}(x,l,g))$$</p>
<h4 id="825-样本构造">8.2.5 样本构造</h4>
<ul>
<li>
<p>正样本</p>
<ul>
<li>从GT box出发给找到最匹配的prior box放入候选正样本集</li>
<li>从prior box集出发，寻找与GT box满足lOU&gt; 0.5的最大prior box放入候选正样本集</li>
</ul>
</li>
<li>
<p>负样本</p>
<ul>
<li>难例挖掘</li>
<li>正负样本比 1:3</li>
</ul>
</li>
</ul>
<h4 id="826-数据增强">8.2.6 数据增强</h4>
<ul>
<li>随机采样多个path,与物体之间最小的<code>jaccard overlap</code>为: 0.1, 0.3, 0.5, 0.7与0.9</li>
<li>采样的区域比例是[0.3, 1.0]， aspect ratio 在0.5或2</li>
<li>GTbox中心在采样区域中且面积大于0</li>
<li>Resize到固定大小</li>
<li>以0.5的概率随机的水平翻转</li>
</ul>
<h2 id="83-tensorflowssd环境搭建">8.3 TensorFlow+SSD环境搭建</h2>
<div class="admonition note">
            <p class="admonition-title"><i class="icon fas fa-pencil-alt"></i>笔记</p>
            <div class="admonition-content"><ul>
<li>
<p>安装TensorFlow环境</p>
<ul>
<li>TensorFlow-gpu版本1.12以上</li>
</ul>
</li>
<li>
<p><a href="https://github.com/tensorflow/models.git">https://github.com/tensorflow/models.git</a></p>
<ul>
<li><a href="https://github.com/tensorflow/models/tree/master/research/object_detection" target="_blank" rel="noopener noreffer">目标检测算法源码框架</a>
</li>
<li><a href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/installation.md" target="_blank" rel="noopener noreffer">安装教程</a>
</li>
</ul>
</li>
</ul>
</div>
        </div>
<h2 id="9-人脸检测数据清洗与数据打包">9 人脸检测数据清洗与数据打包</h2>
<h3 id="91-wider-face-数据集">9.1 WIDER FACE 数据集</h3>
<div class="admonition note">
            <p class="admonition-title"><i class="icon fas fa-pencil-alt"></i>笔记</p>
            <div class="admonition-content">WIDER FACE数据集</p>
<ul>
<li>由香港中文大学提出</li>
<li>32203个图像和393703个人脸图像</li>
<li>在尺度，姿势，遮挡，表情，装扮，光照等</li>
<li>61个事件类别组织的，对于每一个事件类别，选取其中的40%作为训练集,10%用于交叉验证，50%作为测试集</li>
<li>下载地址：<a href="http://shuoyang1213.me/WIDERFACE/">http://shuoyang1213.me/WIDERFACE/</a></li>
</ul></div>
        </div>
<p><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/20.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></p>
<h3 id="92-passcal-voc">9.2 Passcal VOC</h3>
<ul>
<li>对于WIDER FACE数据集，我们首先会将他转化为Passcal VOC格式<br>
<img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="/images/face/face06/21.jpg,  1.5x,  2x"
        data-src=""
        alt="Minion"
        title="Minion" /></li>
<li>VOC主要有三个重要的文件夹</li>
</ul>
<div class="admonition note">
            <p class="admonition-title"><i class="icon fas fa-pencil-alt"></i>笔记</p>
            <div class="admonition-content"><ul>
<li>Annotations 存放标注信息</li>
<li>ImageSets	  存放训练和测试用到的文件列表</li>
<li>JPEGImages  存放图片信息</li>
</ul></div>
        </div>
<ul>
<li>VOC数据基本结构</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&lt;annotaion&gt;
	&lt;floder&gt;widerface&lt;/floder&gt;
	&lt;filename&gt;0--Parade_0_Parade_marchingband_1_5.jpg&lt;/filename&gt; #指向了JPEGImage下面的一个图片
	&lt;source&gt; #图片来源
		&lt;databse&gt;wider face Database&lt;/databse&gt;
		&lt;annotation&gt;PASCAL VOC2007&lt;/annotaion&gt;
		&lt;image&gt;flickr&lt;/image&gt;
		&lt;flickrid&gt;1&lt;/flickerid&gt;
	&lt;source&gt;
	&lt;owner&gt;
		&lt;flickerid&gt;ieblyang&lt;/flickerid&gt;
		&lt;name&gt;ieblyang&lt;/name&gt;
	&lt;/owner&gt;
	&lt;size&gt; #当前图片的尺寸，通道数
		&lt;width&gt;1024&lt;/width&gt;
		&lt;height&gt;683&lt;/height&gt;
		&lt;depth&gt;3&lt;/depth&gt;
	&lt;/size&gt;
	&lt;segmented&gt;0&lt;/segmented&gt;
	&lt;object&gt; #一个object对应一个人脸
		&lt;name&gt;face&lt;/name&gt;
		&lt;pose&gt;Unspecified&lt;/poss&gt;
		&lt;truncated&gt;1&lt;/truncated&gt;
		&lt;diffcult&gt;0&lt;/diffcult&gt;
		&lt;bndbox&gt;#记录了矩形框的坐标值
			&lt;xmin&gt;495&lt;/xmin&gt;
			&lt;ymin&gt;347&lt;/ymin&gt;
			&lt;xmax&gt;532&lt;/xmax&gt;
			&lt;ymax&gt;398&lt;/ymax&gt;
		&lt;/bndbox&gt;
	&lt;/object&gt;
...
&lt;/annotaion&gt;		   
</code></pre></td></tr></table>
</div>
</div><h3 id="93-wider-face-标注文件">9.3 WIDER FACE 标注文件</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># wider_face_train_bbx_gt.txt
0--Parade/0_Parade_marchingband_1_849.jpg   # 图片路径
1                                           # 针对当前图片中的人脸个数
449 330 122 149 0 0 0 0 0 0                 # 当前人脸的标准信息
↑   ↑
前两个值人脸框左上角坐标
        ↑   ↑
        第三四个值表示人脸框的大小
                ↑ ↑ ↑ ↑ ↑ ↑
                后六个值分别表示Scale、Pose、Occlusion、Expression、Makeup、Illumation
                利用这六个值可以对人脸数据进行清洗
</code></pre></td></tr></table>
</div>
</div><h3 id="94-实例代码">9.4 实例代码</h3>
<blockquote>
<p>处理widerface数据集转VOC
<a href="https://github.com/ieblYang/widerface">https://github.com/ieblYang/widerface</a></p>
<p>&ndash; <em>ieblYang</em></p>
</blockquote>
<h2 id="10-参考资料">10 参考资料</h2>
<div class="admonition note">
            <p class="admonition-title"><i class="icon fas fa-pencil-alt"></i>参考资料</p>
            <div class="admonition-content"><ul>
<li><a href="https://yinguobing.com/fddb/" target="_blank" rel="noopener noreffer">FDDB人脸检测算法评价标准</a>
</li>
<li><a href="https://www.cnblogs.com/zfcode/p/mu-biao-jian-ce-IOU-jiao-bing-bi-li-jie-bi-ji.html" target="_blank" rel="noopener noreffer">目标检测 IOU（交并比） 理解笔记</a>
</li>
<li><a href="https://blog.csdn.net/zchang81/article/details/71515490" target="_blank" rel="noopener noreffer">走近人脸检测（2）——VJ人脸检测器及其发展</a>
</li>
<li><a href="https://www.cnblogs.com/llguanli/p/8918677.html" target="_blank" rel="noopener noreffer">Viola-Jones人脸检測</a>
</li>
<li><a href="https://blog.csdn.net/weixin_41798111/article/details/79989794" target="_blank" rel="noopener noreffer">DPM目标检测算法</a>
</li>
<li><a href="https://blog.csdn.net/smf0504/article/details/52244254" target="_blank" rel="noopener noreffer">解读 Joint Cascade Face Detection and Alignment 人脸检测算法</a>
</li>
<li><a href="https://www.cnblogs.com/sciencefans/p/4394861.html" target="_blank" rel="noopener noreffer">人脸识别技术大总结1——Face Detection &amp; Alignment</a>
</li>
</ul></div>
        </div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>The article was updated on 2020-03-12</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://ieblyang.github.io/en/face06/" data-title="人脸检测业务理论" data-via="ieblYang" data-hashtags="人脸识别,TensorFlow,人脸检测"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://ieblyang.github.io/en/face06/" data-hashtag="人脸识别"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://ieblyang.github.io/en/face06/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Share on WhatsApp" data-sharer="whatsapp" data-url="https://ieblyang.github.io/en/face06/" data-title="人脸检测业务理论" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://ieblyang.github.io/en/face06/" data-title="人脸检测业务理论" data-image="/images/face/featured-image.png" data-ralateuid="ieblYang"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="Share on 百度" data-sharer="baidu" data-url="https://ieblyang.github.io/en/face06/" data-title="人脸检测业务理论"><i class="loveit it-baidu-fill"></i></a><a href="javascript:void(0);" title="Share on Evernote" data-sharer="evernote" data-url="https://ieblyang.github.io/en/face06/" data-title="人脸检测业务理论"><i class="fab fa-evernote fa-fw"></i></a><a href="javascript:void(0);" title="Share on Skype" data-sharer="skype" data-url="https://ieblyang.github.io/en/face06/" data-title="人脸检测业务理论"><i class="fab fa-skype fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/en/tags/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB">人脸识别</a>,&nbsp;<a href="/en/tags/tensorflow">TensorFlow</a>,&nbsp;<a href="/en/tags/%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B">人脸检测</a></section>
        <section>
            <span><a href="javascript:window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/en/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/en/face05/" class="prev" rel="prev" title="Tensorflow Cifar-10图像分类任务"><i class="fas fa-angle-left fa-fw"></i>Tensorflow Cifar-10图像分类任务</a>
            <a href="/en/flask01/" class="next" rel="next" title="结合官方文档 入门Flask">结合官方文档 入门Flask<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div class="comment"><div id="valine"></div><script>
            document.addEventListener("DOMContentLoaded", function(event) {
                new Valine({
                    el: '#valine',
                    appId: 'QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI',
                    appKey: 'WBmoGyJtbqUswvfLh6L8iEBr',placeholder: 'Your comment ...',verify: true,avatar: 'mp',pageSize: 10,lang: 'en',visitor: true,recordIP: true,});
            });
        </script>
        <noscript>
            Please enable JavaScript to view the <a href="https://valine.js.org/">comments powered by Valine.</a>
        </noscript></div>
    </article></div>
            </main><footer class="footer">
    <div class="copyright"><div class="copyright-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreffer">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="external nofollow noopener noreffer"><i class="far fa-heart fa-fw"></i> LoveIt</a>
        </div>

        <div class="copyright-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/en/" target="_blank">ieblYang</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
    </div>
</footer>
</div><a href="#" class="dynamic-to-top animated faster" id="dynamic-to-top">
            <i class="fas fa-chevron-up fa-fw"></i>
        </a><script>
        document.addEventListener('DOMContentLoaded', function () {
            lightGallery(document.getElementById('content'), {
                selector: '.lightgallery',
                speed: 400,
                hideBarsDelay: 2000,
                thumbnail: true,
                exThumbImage: 'data-thumbnail',
                thumbWidth: 80,
                thumbContHeight: 80,
            });
        });
    </script><script>
        document.addEventListener('DOMContentLoaded', function () {
            renderMathInElement(document.body, {
                delimiters: [
                    { left: '$$', right: '$$', display: true },
                    { left: '\\[', right: '\\]', display: true },{ left: '$', right: '$', display: false },
                    { left: '\\(', right: '\\)', display: false },],
                strict: false,
            });
        });
    </script><link rel="stylesheet" href="/lib/valine/valine.48fc8c7a134ff56a24e2e2d3106ec39a.css" integrity="md5-SPyMehNP9Wok4uLTEG7Dmg=="><link rel="stylesheet" href="/lib/iconfont/iconfont.min.60491d359fba28667d44b1b4c808a0bd.css" integrity="md5-YEkdNZ&#43;6KGZ9RLG0yAigvQ=="><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.f0e116a1a6b325059928a106254352e1.css" integrity="md5-8OEWoaazJQWZKKEGJUNS4Q=="><link rel="stylesheet" href="/lib/katex/katex.min.4afae7d446ba01ebf7fff19893eaf3a1.css" integrity="md5-Svrn1Ea6Aev3//GYk&#43;rzoQ=="><link rel="stylesheet" href="/lib/katex/copy-tex.min.b1994d1b9785dd8801dbf655df7bf6d9.css" integrity="md5-sZlNG5eF3YgB2/ZV33v22Q=="><script src="/lib/valine/Valine.min.1698240d38b9277036a3059775e55a03.js" integrity="md5-FpgkDTi5J3A2owWXdeVaAw=="></script><script src="/lib/smooth-scroll/smooth-scroll.polyfills.min.c4f5974788ebb82890a0e7771763939c.js" integrity="md5-xPWXR4jruCiQoOd3F2OTnA=="></script><script src="/lib/sharer/sharer.min.c3c3372b4cf5c56dd4e5a4be8ada86c9.js" integrity="md5-w8M3K0z1xW3U5aS&#43;itqGyQ=="></script><script src="/lib/lazysizes/lazysizes.min.0812d0f17b90a4aefd97bb91085ad252.js" integrity="md5-CBLQ8XuQpK79l7uRCFrSUg=="></script><script src="/lib/lightgallery/lightgallery.min.4bc95325ef47ddceda10ae0ee66e925c.js" integrity="md5-S8lTJe9H3c7aEK4O5m6SXA=="></script><script src="/lib/lightgallery/lg-thumbnail.min.874045ba82acdc496e8c871b77c5c1e5.js" integrity="md5-h0BFuoKs3ElujIcbd8XB5Q=="></script><script src="/lib/lightgallery/lg-zoom.min.409e9d2da92a979799deed01377eeff6.js" integrity="md5-QJ6dLakql5eZ3u0BN37v9g=="></script><script src="/lib/katex/katex.min.c158c9e823b681cf535f46596b5e4eac.js" integrity="md5-wVjJ6CO2gc9TX0ZZa15OrA=="></script><script src="/lib/katex/auto-render.min.28cd0b98cd3f4fa37d52f3ffe47ad9d4.js" integrity="md5-KM0LmM0/T6N9UvP/5HrZ1A=="></script><script src="/lib/katex/copy-tex.min.bfaec7d1dea915d74a7a6d833f0ff62e.js" integrity="md5-v67H0d6pFddKem2DPw/2Lg=="></script><script src="/lib/katex/mhchem.min.1bbb252363e83547d4b2186a41eaca28.js" integrity="md5-G7slI2PoNUfUshhqQerKKA=="></script><script src="/js/theme.min.2d8c56f0eeaac5b7d58911d3c7522b29.js" integrity="md5-LYxW8O6qxbfViRHTx1IrKQ=="></script></body>
</html>
